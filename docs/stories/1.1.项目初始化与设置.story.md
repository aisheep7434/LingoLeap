# <!-- Powered by BMAD™ Core -->

# Story 1.1: 项目初始化与设置

## Status

**Status**: Approved

## Story

**As a** 开发者,
**I want** to set up the monorepo project structure with a Next.js frontend and link it to a Supabase backend,
**so that** we have a clean, version-controlled, and deployable starting point for development.

## Acceptance Criteria

1.  在 GitHub 上创建一个新的 monorepo 代码仓库。
2.  在 Supabase 上创建一个新的项目，并获取 API 密钥。
3.  在本地初始化一个 Next.js + TypeScript + Chakra UI 项目。
4.  项目结构符合我们之前在技术假设中定义的模式。
5.  应用可以成功在本地运行 (`npm run dev`)。
6.  项目与 Vercel 成功关联，并且可以部署一个简单的 "Hello World" 页面。

## Tasks / Subtasks

- [x] Create GitHub monorepo repository (AC: 1)
  - [x] Initialize empty repository on GitHub
  - [x] Add repository to local git configuration
- [x] Set up Supabase project (AC: 2)
  - [x] Create new Supabase project
  - [x] Obtain API keys and database connection strings
  - [x] Configure environment variables template
- [x] Initialize T3 Stack project locally (AC: 3)
  - [x] Run `create-t3-app` with Next.js, TypeScript, Chakra UI
  - [x] Configure project dependencies and scripts
- [x] Configure project structure (AC: 4)
  - [x] Set up monorepo structure with npm workspaces
  - [x] Configure Prisma for database access
  - [x] Set up tRPC for type-safe API
  - [x] Configure Chakra UI for components
- [x] Verify local development environment (AC: 5)
  - [x] Install dependencies with `npm install`
  - [x] Run development server with `npm run dev`
  - [x] Confirm application loads successfully
- [ ] Configure Vercel deployment (AC: 6)
  - [ ] Connect repository to Vercel
  - [ ] Set up environment variables on Vercel
  - [ ] Deploy initial "Hello World" page
  - [ ] Confirm deployment is successful

## Dev Notes

### Previous Story Insights
None (this is the first story)

### Technology Stack
- **Frontend**: Next.js ~14.1.0, TypeScript ~5.3.3, Chakra UI ~2.8.2
- **Backend**: tRPC ~10.45.0, Next.js API Routes
- **Database**: PostgreSQL 15.x via Supabase
- **ORM**: Prisma
- **Deployment**: Vercel
- **Project Structure**: Monorepo with npm workspaces
- **Starting Point**: T3 Stack (`create-t3-app`)

### Project Structure Requirements
- **Monorepo Structure**: Single repository with npm workspaces
- **Frontend**: Next.js App Router in `src/app/`
- **Backend**: tRPC routers in `src/server/api/routers/`
- **Database**: Prisma schema in `prisma/schema.prisma`
- **Components**: UI components in `src/components/`
- **Environment**: `.env` file with Supabase credentials

### Key Configuration Files
- **package.json**: Dependencies and scripts configuration
- **prisma/schema.prisma**: Database schema definition
- **.env**: Environment variables (Supabase URL, anon key, etc.)
- **next.config.js**: Next.js configuration
- **tsconfig.json**: TypeScript configuration

### Technical Constraints
- Must use T3 Stack as starting point (`create-t3-app`)
- Mobile-first responsive design requirement
- Serverless architecture on Vercel
- Row Level Security (RLS) must be enabled on Supabase tables
- Type safety throughout the entire stack
- Component-based UI architecture with Chakra UI

### File Locations
- Frontend: `src/app/` (Next.js App Router)
- Backend: `src/server/api/routers/` (tRPC procedures)
- Database: `prisma/schema.prisma` (Prisma schema)
- Components: `src/components/ui/` (Chakra UI components)
- Environment: `.env.local` (local development), `.env.production` (deployment)

### API Configuration
- tRPC client configuration in `src/utils/api.ts`
- Server procedures in `src/server/api/root.ts`
- Protected procedures with Supabase auth integration

### Database Schema
- Initial schema will include authentication tables via Supabase Auth
- Profile table to extend Supabase user data
- Ready for deck and word tables from future stories

### Testing
- Test framework: Jest & React Testing Library for frontend, Vitest for backend
- Test location: Co-located with source files (`*.test.ts`)
- E2E testing: Playwright in `e2e/` directory

### Project Structure Alignment
No conflicts identified - current project is empty and ready for initialization according to architecture specifications.

## Testing

### Testing Standards from Architecture
- **Frontend Testing**: Jest & React Testing Library ~29.x
- **Backend Testing**: Vitest ~1.2.0  
- **E2E Testing**: Playwright ~1.41.0
- **Test Organization**: Co-located with source files (`*.test.ts`)
- **E2E Location**: Dedicated `e2e/` folder
- **Testing Pyramid**: Unit tests → Integration tests → E2E tests

### Testing Requirements for This Story
- Verify local development server starts successfully
- Confirm initial page renders without errors
- Test that environment variables are properly loaded
- Validate that all dependencies install correctly
- Ensure deployment to Vercel works as expected

## Change Log

| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2025-09-10 | 1.0 | Initial story draft creation | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List

## QA Results